# sql 架构说明文档

By Lian - 2025

---

## | 整体架构

整个 `sql` 模块分为三层

`Model` (数据定义层) -> `Repo` (数据访问层) -> `sql` (统一接口)

- `Model`: 定义表结构和字段的类型验证
  - 继承自 `Pydantic.BaseModel`
  - 负责定义字段类型、默认值、外键关系
- `Repo`: 定义如何与数据库交互
  - 继承自 `BaseRepo`
  - 负责实现 **CRUD** 操作，**SQL** 拼接，结果集解析
- `sql`: 暴露接口
  - 负责管理数据库连接池
  - 动态加载 Repo
  - 提供调用接口

---
